"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[965],{1346:function(e,t,l){l.r(t),l.d(t,{default:function(){return y}});l(4564),l(324);var n=l(4220),a=l(6732),o=l(4382),i=l(7939);const r={class:"q-pa-md"},u={class:"searchDiv"};var s={__name:"index",setup(e){const t=(0,a.Kh)({blurry:"",tableData:[],current:1,size:10,total:0}),l=[{name:"compania",required:!0,label:"Compañía",align:"left",field:"compania",sortable:!0},{name:"apellidos",required:!0,label:"Apellidos",align:"left",field:"apellidos",sortable:!0},{name:"nombre",required:!0,label:"Nombre",align:"left",field:"nombre",sortable:!0}],s=(0,a.KR)(!1),d=(0,a.KR)({sortBy:"nombre",descending:!1,page:1,rowsPerPage:10}),c=()=>{s.value=!0;const e={blurry:t.blurry,size:t.size,currentPage:d.value.page};(0,o.I)(e).then(e=>{s.value=!1,e.success?(t.tableData=e.data.records,t.total=e.data.total):(0,i.aJ)(e.msg)}).catch(()=>{s.value=!1})},p=e=>{const{page:l,rowsPerPage:n,sortBy:a,descending:o}=e.pagination;d.value.sortBy=a||"",d.value.descending=o,d.value.page=l,d.value.rowsPerPage=n,t.current=l,t.size=n,console.log("estado current cliente"),console.log(t),c()};return(0,n.sV)(()=>{c(),console.log("estado cliente"),console.log(t)}),(e,a)=>{const o=(0,n.g2)("q-input"),i=(0,n.g2)("q-button"),v=(0,n.g2)("q-icon"),g=(0,n.g2)("q-table"),f=(0,n.g2)("q-pagination"),b=(0,n.g2)("q-page-container"),m=(0,n.g2)("q-layout");return(0,n.uX)(),(0,n.Wv)(m,{view:"hHh lpR fFf"},{default:(0,n.k6)(()=>[(0,n.bF)(b,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",r,[(0,n.Lk)("div",u,[(0,n.bF)(o,{class:"searchInput",modelValue:t.blurry,"onUpdate:modelValue":a[0]||(a[0]=e=>t.blurry=e),placeholder:"Por favor ingrese nombre de usuario o apodo",clearable:""},null,8,["modelValue"]),(0,n.bF)(i,{type:"primary",onClick:e.getUserListFun},{default:(0,n.k6)(()=>[...a[4]||(a[4]=[(0,n.eW)("Consulta",-1)])]),_:1},8,["onClick"])]),(0,n.bF)(g,{flat:"",bordered:"",ref:"tableRef",title:"Clientes",rows:t.tableData,columns:l,"row-key":"id",pagination:d.value,"onUpdate:pagination":a[2]||(a[2]=e=>d.value=e),loading:s.value,filter:e.filter,"binary-state-sort":"",onRequest:p},{"top-right":(0,n.k6)(()=>[(0,n.bF)(o,{borderless:"",dense:"",debounce:"300",modelValue:t.blurry,"onUpdate:modelValue":a[1]||(a[1]=e=>t.blurry=e),placeholder:"Buscar"},{append:(0,n.k6)(()=>[(0,n.bF)(v,{name:"search",onClick:c})]),_:1},8,["modelValue"])]),_:1},8,["rows","pagination","loading","filter"]),(0,n.bF)(f,{modelValue:d.value.page,"onUpdate:modelValue":[a[3]||(a[3]=e=>d.value.page=e),c],max:Math.ceil(t.total/d.value.rowsPerPage)},null,8,["modelValue","max"])])]),_:1})]),_:1})}}},d=l(3555),c=l(6284),p=l(4985),v=l(1598),g=l(4503),f=l(4183),b=l(2110),m=l.n(b);const h=s;var y=h;m()(s,"components",{QLayout:d.A,QPageContainer:c.A,QInput:p.A,QTable:v.A,QIcon:g.A,QPagination:f.A})},3555:function(e,t,l){l.d(t,{A:function(){return h}});var n=l(4220),a=l(6732),o=l(1030),i=l(9140),r=l(3903),u=l(5055);const{passive:s}=u.mG,d=["both","horizontal","vertical"];var c=(0,i.a0)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>d.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:r.cP},emits:["scroll"],setup(e,{emit:t}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a,o,i=null;function d(){i?.();const n=Math.max(0,(0,r.fQ)(a)),o=(0,r.lS)(a),u={top:n-l.position.top,left:o-l.position.left};if("vertical"===e.axis&&0===u.top||"horizontal"===e.axis&&0===u.left)return;const s=Math.abs(u.top)>=Math.abs(u.left)?u.top<0?"up":"down":u.left<0?"left":"right";l.position={top:n,left:o},l.directionChanged=l.direction!==s,l.delta=u,!0===l.directionChanged&&(l.direction=s,l.inflectionPoint=l.position),t("scroll",{...l})}function c(){a=(0,r.hD)(o,e.scrollTarget),a.addEventListener("scroll",v,s),v(!0)}function p(){void 0!==a&&(a.removeEventListener("scroll",v,s),a=void 0)}function v(t){if(!0===t||0===e.debounce||"0"===e.debounce)d();else if(null===i){const[t,l]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];i=()=>{l(t),i=null}}}(0,n.wB)(()=>e.scrollTarget,()=>{p(),c()});const{proxy:g}=(0,n.nI)();return(0,n.wB)(()=>g.$q.lang.rtl,d),(0,n.sV)(()=>{o=g.$el.parentNode,c()}),(0,n.xo)(()=>{i?.(),p()}),Object.assign(g,{trigger:v,getPosition:()=>l}),u.lQ}});function p(){const e=(0,a.KR)(!o.ot.value);return!1===e.value&&(0,n.sV)(()=>{e.value=!0}),{isHydrated:e}}const v="undefined"!==typeof ResizeObserver,g=!0===v?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var f=(0,i.a0)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let l,a=null,o={width:-1,height:-1};function i(t){!0===t||0===e.debounce||"0"===e.debounce?r():null===a&&(a=setTimeout(r,e.debounce))}function r(){if(null!==a&&(clearTimeout(a),a=null),l){const{offsetWidth:e,offsetHeight:n}=l;e===o.width&&n===o.height||(o={width:e,height:n},t("resize",o))}}const{proxy:s}=(0,n.nI)();if(s.trigger=i,!0===v){let d;const c=e=>{l=s.$el.parentNode,l?(d=new ResizeObserver(i),d.observe(l),r()):!0!==e&&(0,n.dY)(()=>{c(!0)})};return(0,n.sV)(()=>{c()}),(0,n.xo)(()=>{null!==a&&clearTimeout(a),void 0!==d&&(void 0!==d.disconnect?d.disconnect():l&&d.unobserve(l))}),u.lQ}{const{isHydrated:f}=p();let b;function m(){null!==a&&(clearTimeout(a),a=null),void 0!==b&&(void 0!==b.removeEventListener&&b.removeEventListener("resize",i,u.mG.passive),b=void 0)}function h(){m(),l?.contentDocument&&(b=l.contentDocument.defaultView,b.addEventListener("resize",i,u.mG.passive),r())}return(0,n.sV)(()=>{(0,n.dY)(()=>{l=s.$el,l&&h()})}),(0,n.xo)(m),()=>{if(!0===f.value)return(0,n.h)("object",{class:"q--avoid-card-border",style:g.style,tabindex:-1,type:"text/html",data:g.url,"aria-hidden":"true",onLoad:h})}}}}),b=l(1952),m=l(3430),h=(0,i.a0)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:l}){const{proxy:{$q:i}}=(0,n.nI)(),u=(0,a.KR)(null),s=(0,a.KR)(i.screen.height),d=(0,a.KR)(!0===e.container?0:i.screen.width),p=(0,a.KR)({position:0,direction:"down",inflectionPoint:0}),v=(0,a.KR)(0),g=(0,a.KR)(!0===o.ot.value?0:(0,r.XJ)()),h=(0,n.EW)(()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard")),y=(0,n.EW)(()=>!1===e.container?{minHeight:i.screen.height+"px"}:null),x=(0,n.EW)(()=>0!==g.value?{[!0===i.lang.rtl?"left":"right"]:`${g.value}px`}:null),w=(0,n.EW)(()=>0!==g.value?{[!0===i.lang.rtl?"right":"left"]:0,[!0===i.lang.rtl?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function S(t){if(!0===e.container||!0!==document.qScrollPrevented){const n={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};p.value=n,void 0!==e.onScroll&&l("scroll",n)}}function E(t){const{height:n,width:a}=t;let o=!1;s.value!==n&&(o=!0,s.value=n,void 0!==e.onScrollHeight&&l("scrollHeight",n),V()),d.value!==a&&(o=!0,d.value=a),!0===o&&void 0!==e.onResize&&l("resize",t)}function W({height:e}){v.value!==e&&(v.value=e,V())}function V(){if(!0===e.container){const e=s.value>v.value?(0,r.XJ)():0;g.value!==e&&(g.value=e)}}let q=null;const z={instances:{},view:(0,n.EW)(()=>e.view),isContainer:(0,n.EW)(()=>e.container),rootRef:u,height:s,containerHeight:v,scrollbarWidth:g,totalWidth:(0,n.EW)(()=>d.value+g.value),rows:(0,n.EW)(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:(0,a.Kh)({size:0,offset:0,space:!1}),right:(0,a.Kh)({size:300,offset:0,space:!1}),footer:(0,a.Kh)({size:0,offset:0,space:!1}),left:(0,a.Kh)({size:300,offset:0,space:!1}),scroll:p,animate(){null!==q?clearTimeout(q):document.body.classList.add("q-body--layout-animate"),q=setTimeout(()=>{q=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,t,l){z[e][t]=l}};if((0,n.Gt)(m.ON,z),(0,r.XJ)()>0){let C=null;const k=document.body;function F(){C=null,k.classList.remove("hide-scrollbar")}function L(){if(null===C){if(k.scrollHeight>i.screen.height)return;k.classList.add("hide-scrollbar")}else clearTimeout(C);C=setTimeout(F,300)}function P(e){null!==C&&"remove"===e&&(clearTimeout(C),F()),window[`${e}EventListener`]("resize",L)}(0,n.wB)(()=>!0!==e.container?"add":"remove",P),!0!==e.container&&P("add"),(0,n.hi)(()=>{P("remove")})}return()=>{const l=(0,b.Hp)(t.default,[(0,n.h)(c,{onScroll:S}),(0,n.h)(f,{onResize:E})]),a=(0,n.h)("div",{class:h.value,style:y.value,ref:!0===e.container?void 0:u,tabindex:-1},l);return!0===e.container?(0,n.h)("div",{class:"q-layout-container overflow-hidden",ref:u},[(0,n.h)(f,{onResize:W}),(0,n.h)("div",{class:"absolute-full",style:x.value},[(0,n.h)("div",{class:"scroll",style:w.value},[a])])]):a}}})},4183:function(e,t,l){l(4645);var n=l(4220),a=l(6732),o=l(407),i=l(4985),r=l(5471),u=l(6534),s=l(9140),d=l(9012),c=l(7031);function p(e,t){return[!0,!1].includes(e)?e:t}t.A=(0,s.a0)({name:"QPagination",props:{...r.C,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>("string"===typeof e?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>""===e||u.p.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:l}=(0,n.nI)(),{$q:s}=l,v=(0,r.A)(e,s),g=(0,n.EW)(()=>parseInt(e.min,10)),f=(0,n.EW)(()=>parseInt(e.max,10)),b=(0,n.EW)(()=>parseInt(e.maxPages,10)),m=(0,n.EW)(()=>E.value+" / "+f.value),h=(0,n.EW)(()=>p(e.boundaryLinks,e.input)),y=(0,n.EW)(()=>p(e.boundaryNumbers,!e.input)),x=(0,n.EW)(()=>p(e.directionLinks,e.input)),w=(0,n.EW)(()=>p(e.ellipses,!e.input)),S=(0,a.KR)(null),E=(0,n.EW)({get:()=>e.modelValue,set:l=>{if(l=parseInt(l,10),e.disable||isNaN(l))return;const n=(0,d.Tq)(l,g.value,f.value);e.modelValue!==n&&t("update:modelValue",n)}});(0,n.wB)(()=>`${g.value}|${f.value}`,()=>{E.value=e.modelValue});const W=(0,n.EW)(()=>"q-pagination row no-wrap items-center"+(!0===e.disable?" disabled":"")),V=(0,n.EW)(()=>e.gutter in u.sV?`${u.sV[e.gutter]}px`:e.gutter||null),q=(0,n.EW)(()=>null!==V.value?`--q-pagination-gutter-parent:-${V.value};--q-pagination-gutter-child:${V.value}`:null),z=(0,n.EW)(()=>{const t=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return!0===s.lang.rtl?t.reverse():t}),C=(0,n.EW)(()=>({"aria-disabled":!0===e.disable?"true":"false",role:"navigation"})),k=(0,n.EW)(()=>(0,u.De)(e,"flat")),F=(0,n.EW)(()=>({[k.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:null===e.ripple||e.ripple})),L=(0,n.EW)(()=>{const t={[k.value]:!1};return""!==e.activeDesign&&(t[e.activeDesign]=!0),t}),P=(0,n.EW)(()=>({...L.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),B=(0,n.EW)(()=>{let t=Math.max(b.value,1+(w.value?2:0)+(y.value?2:0));const l={pgFrom:g.value,pgTo:f.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(f.value).length)}em`}};return b.value&&t<f.value-g.value+1&&(t=1+2*Math.floor(t/2),l.pgFrom=Math.max(g.value,Math.min(f.value-t+1,e.modelValue-Math.floor(t/2))),l.pgTo=Math.min(f.value,l.pgFrom+t-1),y.value&&(l.boundaryStart=!0,l.pgFrom++),w.value&&l.pgFrom>g.value+(y.value?1:0)&&(l.ellipsesStart=!0,l.pgFrom++),y.value&&(l.boundaryEnd=!0,l.pgTo--),w.value&&l.pgTo<f.value-(y.value?1:0)&&(l.ellipsesEnd=!0,l.pgTo--)),l});function T(e){E.value=e}function R(e){E.value=E.value+e}function $(){E.value=S.value,S.value=null,!0===s.platform.is.mobile&&document.activeElement.blur()}function A(e){S.value=e}function N(e){!0===(0,c.Dv)(e,13)&&$()}function Q(t,l,a){const i={"aria-label":l,"aria-current":"false",...F.value,...t};return!0===a&&Object.assign(i,{"aria-current":"true",...P.value}),void 0!==l&&(void 0!==e.toFn?i.to=e.toFn(l):i.onClick=()=>{T(l)}),(0,n.h)(o.A,i)}return Object.assign(l,{set:T,setByOffset:R}),()=>{const t=[],l=[];let a;if(!0===h.value&&(t.push(Q({key:"bls",disable:e.disable||e.modelValue<=g.value,icon:z.value[0],"aria-label":s.lang.pagination.first},g.value)),l.unshift(Q({key:"ble",disable:e.disable||e.modelValue>=f.value,icon:z.value[3],"aria-label":s.lang.pagination.last},f.value))),!0===x.value&&(t.push(Q({key:"bdp",disable:e.disable||e.modelValue<=g.value,icon:z.value[1],"aria-label":s.lang.pagination.prev},e.modelValue-1)),l.unshift(Q({key:"bdn",disable:e.disable||e.modelValue>=f.value,icon:z.value[2],"aria-label":s.lang.pagination.next},e.modelValue+1))),!0!==e.input){a=[];const{pgFrom:n,pgTo:o,marginalStyle:i}=B.value;if(!0===B.value.boundaryStart){const l=g.value===e.modelValue;t.push(Q({key:"bns",style:i,disable:e.disable,label:g.value},g.value,l))}if(!0===B.value.boundaryEnd){const t=f.value===e.modelValue;l.unshift(Q({key:"bne",style:i,disable:e.disable,label:f.value},f.value,t))}!0===B.value.ellipsesStart&&t.push(Q({key:"bes",style:i,disable:e.disable,label:"…",ripple:!1},n-1)),!0===B.value.ellipsesEnd&&l.unshift(Q({key:"bee",style:i,disable:e.disable,label:"…",ripple:!1},o+1));for(let t=n;t<=o;t++)a.push(Q({key:`bpg${t}`,style:i,disable:e.disable,label:t},t,t===e.modelValue))}return(0,n.h)("div",{class:W.value,...C.value},[(0,n.h)("div",{class:"q-pagination__content row no-wrap items-center",style:q.value},[...t,!0===e.input?(0,n.h)(i.A,{class:"inline",style:{width:m.value.length/1.5+"em"},type:"number",dense:!0,value:S.value,disable:e.disable,dark:v.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:m.value,min:g.value,max:f.value,"onUpdate:modelValue":A,onKeyup:N,onBlur:$}):(0,n.h)("div",{class:"q-pagination__middle row justify-center"},a),...l])])}}})},4382:function(e,t,l){l.d(t,{I:function(){return a}});var n=l(6381);function a(e){return(0,n.A)({url:"/api/sys/clientes/table",method:"get",params:e})}},6284:function(e,t,l){var n=l(4220),a=l(9140),o=l(1952),i=l(3430);t.A=(0,a.a0)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:l}}=(0,n.nI)(),a=(0,n.WQ)(i.ON,i.U_);if(a===i.U_)return console.error("QPageContainer needs to be child of QLayout"),i.U_;(0,n.Gt)(i.YR,!0);const r=(0,n.EW)(()=>{const e={};return!0===a.header.space&&(e.paddingTop=`${a.header.size}px`),!0===a.right.space&&(e["padding"+(!0===l.lang.rtl?"Left":"Right")]=`${a.right.size}px`),!0===a.footer.space&&(e.paddingBottom=`${a.footer.size}px`),!0===a.left.space&&(e["padding"+(!0===l.lang.rtl?"Right":"Left")]=`${a.left.size}px`),e});return()=>(0,n.h)("div",{class:"q-page-container",style:r.value},(0,o.zm)(t.default))}})}}]);
//# sourceMappingURL=965.c30fd651.js.map