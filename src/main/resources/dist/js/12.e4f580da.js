"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[12],{12:function(e,l,o){o.r(l),o.d(l,{default:function(){return m}});o(4564),o(7578);var r=o(4220),u=o(6732),a=o(9798),t=(o(3942),o(7939)),s=o(7251),d={__name:"editModulo1",props:{dialogVisible:{type:Boolean,required:!0,default:!1},userObj:Object},emits:["update:dialogVisible","get-list"],setup(e,{emit:l}){const o=e,d=l,n=(0,r.EW)({get:()=>o.dialogVisible,set:e=>d("update:dialogVisible",e)}),i=(0,u.KR)(!1),m=(0,u.KR)(),p=(0,u.Kh)({title:"Nuevo",userForm:{id:null,username:"",nickName:"",roleIds:[]},rules:{username:[{required:!0,message:"El nombre de usuario no puede estar vacío",trigger:"blur"}],nickName:[{required:!0,message:"El apodo del usuario no puede estar vacío",trigger:"blur"}],roleIds:[{required:!0,message:"El rol de usuario no puede estar vacío",trigger:"change"}]},roleList:[]}),c=()=>{(0,s.E)(m.value),p.title="Nuevo",b(),i.value=!1,o.userObj.id&&(p.title="Editar",p.userForm=o.userObj,p.userForm.roleIds=p.userForm.roleIds[0].split(","),p.userForm.roleIds=p.userForm.roleIds.map(Number))},b=()=>{getRoleList({}).then(e=>{e.success?p.roleList=e.data:(0,t.aJ)(e.msg)})},g=()=>{console.log("INSERTAR"),m.value.validate(e=>{e&&(i.value=!0,editUser(p.userForm).then(e=>{e.success?((0,t.j3)(e.data),console.log(e.data),n.value=!1,d("get-list")):(0,t.aJ)(e.msg),i.value=!1}))})};return(e,l)=>{const o=(0,r.g2)("el-input"),t=(0,r.g2)("el-form-item"),d=(0,r.g2)("el-option"),b=(0,r.g2)("el-select"),f=(0,r.g2)("el-form"),F=(0,r.g2)("el-button"),v=(0,r.g2)("el-dialog");return(0,r.uX)(),(0,r.Wv)(v,{title:p.title,modelValue:n.value,"onUpdate:modelValue":l[5]||(l[5]=e=>n.value=e),"close-on-click-modal":!1,onOpened:c},{footer:(0,r.k6)(()=>[(0,r.Lk)("span",null,[(0,r.bF)(F,{onClick:l[4]||(l[4]=e=>(0,u.R1)(s.E)(m.value))},{default:(0,r.k6)(()=>[...l[6]||(l[6]=[(0,r.eW)("reiniciar",-1)])]),_:1}),(0,r.bF)(F,{type:"primary",loading:i.value,onClick:g},{default:(0,r.k6)(()=>[...l[7]||(l[7]=[(0,r.eW)("seguro",-1)])]),_:1},8,["loading"])])]),default:(0,r.k6)(()=>[(0,r.bF)(f,{model:p.userForm,rules:p.rules,ref_key:"userRef",ref:m,"label-width":"120px"},{default:(0,r.k6)(()=>[(0,r.bo)((0,r.bF)(t,{prop:"id"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.userForm.id,"onUpdate:modelValue":l[0]||(l[0]=e=>p.userForm.id=e)},null,8,["modelValue"])]),_:1},512),[[a.aG,!1]]),(0,r.bF)(t,{label:"nombre de usuario",prop:"username"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.userForm.username,"onUpdate:modelValue":l[1]||(l[1]=e=>p.userForm.username=e),placeholder:"Por favor ingrese el nombre de usuario"},null,8,["modelValue"])]),_:1}),(0,r.bF)(t,{label:"Apoodo",prop:"nickName"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.userForm.nickName,"onUpdate:modelValue":l[2]||(l[2]=e=>p.userForm.nickName=e),placeholder:"Por favor ingresa un apodo"},null,8,["modelValue"])]),_:1}),(0,r.bF)(t,{label:"rol de usuario",prop:"roleIds"},{default:(0,r.k6)(()=>[(0,r.bF)(b,{modelValue:p.userForm.roleIds,"onUpdate:modelValue":l[3]||(l[3]=e=>p.userForm.roleIds=e),multiple:"",placeholder:"Por favor seleccione un rol"},{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.roleList,(e,l)=>((0,r.uX)(),(0,r.Wv)(d,{key:l,label:e.roleName,value:parseInt(e.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}},n=o(1317);const i=(0,n.A)(d,[["__scopeId","data-v-a2e548cc"]]);var m=i},3942:function(e,l,o){o.d(l,{dM:function(){return t},dU:function(){return a},k7:function(){return u},nn:function(){return s}});var r=o(6381);function u(e){return(0,r.A)({url:"/api/sys/modulo1/table",method:"get",params:e})}function a(e){return(0,r.A)({url:"/api/sys/modulo1/tabledclientes",method:"get",params:e})}function t(e){return(0,r.A)({url:"/api/sys/modulo1/edit",method:"post",data:e})}function s(e){return(0,r.A)({url:"/api/sys/modulo1/tabledclientespedido",method:"get",params:e})}}}]);
//# sourceMappingURL=12.e4f580da.js.map