{"version":3,"file":"js/559.f76833fe.js","mappings":"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","sources":["webpack://web/./src/api/role/sysRole.js","webpack://web/./src/views/role/editRole.vue","webpack://web/./src/views/role/editRole.vue?cedd"],"sourcesContent":["import request from \"../../utils/request\";\r\n\r\n/**\r\n * Obtener lista de roles\r\n * @param params\r\n * @returns {AxiosPromise}\r\n */\r\nexport function getRoleList(params){\r\n    return request({\r\n        url: '/api/sys/role/table',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * Editar rol\r\n * @param data\r\n * @returns {AxiosPromise}\r\n */\r\nexport function editRole(data){\r\n    return request({\r\n        url: '/api/sys/role/edit',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n *Autorización de rol\r\n * @param data\r\n * @returns {AxiosPromise}\r\n */\r\nexport function authorizeRole(data){\r\n    return request({\r\n        url: '/api/sys/role/menu/edit',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n * Eliminar rol\r\n * @param params\r\n * @returns {AxiosPromise}\r\n */\r\nexport function delRole(params){\r\n    return request({\r\n        url: '/api/sys/role/del',\r\n        method: 'delete',\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * Obtener el menú de rol autorizado\r\n * @param params\r\n * @returns {AxiosPromise}\r\n */\r\nexport function getMenusByRoleId(params){\r\n    return request({\r\n        url: '/api/sys/role/menu/list',\r\n        method: 'get',\r\n        params\r\n    })\r\n}","<template>\r\n  <el-dialog :title=\"state.title\" v-model=\"visible\" draggable :close-on-click-modal=\"false\" @opened=\"openFun\">\r\n    <el-form :model=\"state.roleForm\" :rules=\"rules\" ref=\"roleRef\" label-width=\"120px\">\r\n      <el-form-item v-show=\"false\" prop=\"id\">\r\n        <el-input v-model=\"state.roleForm.id\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"Nombre del personaje\" prop=\"roleName\">\r\n        <el-input v-model=\"state.roleForm.roleName\" placeholder=\"Por favor ingrese un nombre de rol\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"Codigo de Rol\" prop=\"roleCode\">\r\n        <el-input v-model=\"state.roleForm.roleCode\" placeholder=\"Por favor ingrese el código de rol\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"Descripción del rol\" prop=\"roleIds\">\r\n        <el-input type=\"textarea\" v-model=\"state.roleForm.description\" aria-placeholder=\"Por favor ingrese una descripción del rol\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span>\r\n      <el-button @click=\"resetForm(roleRef)\">reiniciar</el-button>\r\n      <el-button type=\"primary\" :loading=\"isLoading\" @click=\"submitRole\">seguro</el-button>\r\n    </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport {editRole} from \"../../api/role/sysRole\";\r\nimport {errorMsg, successMsg} from \"../../utils/message\";\r\nimport {computed, reactive, ref} from \"vue\";\r\nimport {resetForm} from \"../../utils/common\";\r\n\r\nconst props = defineProps({\r\n  dialogVisible: {\r\n    type: Boolean,\r\n    require: true,\r\n    default: false\r\n  },\r\n  roleObj: Object\r\n})\r\n\r\nconst emit = defineEmits(['update:dialogVisible', 'get-list'])\r\n\r\nconst visible = computed({\r\n  get: () => props.dialogVisible,\r\n  set: (val) => emit('update:dialogVisible', val)\r\n})\r\n\r\nconst isLoading = ref(false)\r\n\r\nconst state = reactive({\r\n  title: 'Nuevo',\r\n  roleForm: {\r\n    id: null,\r\n    roleName: '',\r\n    roleCode: '',\r\n    description: ''\r\n  },\r\n  rules: {\r\n    roleName: [{required: true, message: 'El nombre del rol no puede estar vacío', trigger: 'blur'}],\r\n    roleCode: [{required: true, message: 'El código de rol no puede estar vacío', trigger: 'blur'}]\r\n  }\r\n})\r\n\r\nconst roleRef = ref()\r\n\r\nconst openFun = () => {\r\n  resetForm(roleRef.value)\r\n  state.title = 'Nuevo'\r\n  isLoading.value = false\r\n  if (props.roleObj.id){\r\n    state.title = 'Editar'\r\n    state.roleForm = props.roleObj\r\n  }\r\n}\r\n//  Entregar\r\nconst submitRole = () => {\r\n  roleRef.value.validate((valid) => {\r\n    if (valid){\r\n      isLoading.value = true\r\n      editRole(state.roleForm).then(res => {\r\n        if (res.success){\r\n          successMsg(res.data)\r\n          visible.value = false\r\n          emit('get-list')\r\n        } else {\r\n          errorMsg(res.msg)\r\n        }\r\n        isLoading.value = false\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n :deep(.vue-treeselect__control){\r\n  height: 28px;\r\n}\r\n :deep(.el-form-item__content){\r\n   line-height: 28px;\r\n   font-size: 12px;\r\n }\r\n</style>","import script from \"./editRole.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./editRole.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./editRole.vue?vue&type=style&index=0&id=32befa84&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32befa84\"]])\n\nexport default __exports__"],"names":["getRoleList","params","request","url","method","editRole","data","authorizeRole","delRole","getMenusByRoleId","props","__props","emit","__emit","visible","computed","get","dialogVisible","set","val","isLoading","ref","state","reactive","title","roleForm","id","roleName","roleCode","description","rules","required","message","trigger","roleRef","openFun","resetForm","value","roleObj","submitRole","validate","valid","then","res","success","successMsg","errorMsg","msg","_createBlock","_component_el_dialog","$event","draggable","onOpened","footer","_withCtx","_createElementVNode","_createVNode","_component_el_button","onClick","_cache","_unref","type","loading","_component_el_form","model","_ctx","_component_el_form_item","prop","_component_el_input","label","placeholder","__exports__"],"sourceRoot":""}