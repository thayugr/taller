"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[324],{3403:function(e,l,a){var t=a(4220),n=a(9140),o=a(1952);l.A=(0,n.a0)({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const a=(0,t.nI)(),n=(0,t.EW)(()=>"q-td"+(!0===e.autoWidth?" q-table--col-auto-width":"")+(!0===e.noHover?" q-td--no-hover":"")+" ");return()=>{if(void 0===e.props)return(0,t.h)("td",{class:n.value},(0,o.zm)(l.default));const i=a.vnode.key,u=(void 0!==e.props.colsMap?e.props.colsMap[i]:null)||e.props.col;if(void 0===u)return;const{row:r}=e.props;return(0,t.h)("td",{class:n.value+u.__tdClass(r),style:u.__tdStyle(r)},(0,o.zm)(l.default))}}})},3942:function(e,l,a){a.d(l,{dM:function(){return i},dU:function(){return o},k7:function(){return n},nn:function(){return u}});var t=a(6381);function n(e){return(0,t.A)({url:"/api/sys/modulo1/table",method:"get",params:e})}function o(e){return(0,t.A)({url:"/api/sys/modulo1/tabledclientes",method:"get",params:e})}function i(e){return(0,t.A)({url:"/api/sys/modulo1/edit",method:"post",data:e})}function u(e){return(0,t.A)({url:"/api/sys/modulo1/tabledclientespedido",method:"get",params:e})}},4183:function(e,l,a){a(4645);var t=a(4220),n=a(6732),o=a(407),i=a(4985),u=a(5471),r=a(6534),s=a(9140),d=a(9012),c=a(7031);function p(e,l){return[!0,!1].includes(e)?e:l}l.A=(0,s.a0)({name:"QPagination",props:{...u.C,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>("string"===typeof e?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>""===e||r.p.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:l}){const{proxy:a}=(0,t.nI)(),{$q:s}=a,v=(0,u.A)(e,s),b=(0,t.EW)(()=>parseInt(e.min,10)),g=(0,t.EW)(()=>parseInt(e.max,10)),m=(0,t.EW)(()=>parseInt(e.maxPages,10)),f=(0,t.EW)(()=>x.value+" / "+g.value),y=(0,t.EW)(()=>p(e.boundaryLinks,e.input)),h=(0,t.EW)(()=>p(e.boundaryNumbers,!e.input)),k=(0,t.EW)(()=>p(e.directionLinks,e.input)),S=(0,t.EW)(()=>p(e.ellipses,!e.input)),V=(0,n.KR)(null),x=(0,t.EW)({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const t=(0,d.Tq)(a,b.value,g.value);e.modelValue!==t&&l("update:modelValue",t)}});(0,t.wB)(()=>`${b.value}|${g.value}`,()=>{x.value=e.modelValue});const w=(0,t.EW)(()=>"q-pagination row no-wrap items-center"+(!0===e.disable?" disabled":"")),C=(0,t.EW)(()=>e.gutter in r.sV?`${r.sV[e.gutter]}px`:e.gutter||null),E=(0,t.EW)(()=>null!==C.value?`--q-pagination-gutter-parent:-${C.value};--q-pagination-gutter-child:${C.value}`:null),F=(0,t.EW)(()=>{const l=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return!0===s.lang.rtl?l.reverse():l}),q=(0,t.EW)(()=>({"aria-disabled":!0===e.disable?"true":"false",role:"navigation"})),B=(0,t.EW)(()=>(0,r.De)(e,"flat")),W=(0,t.EW)(()=>({[B.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:null===e.ripple||e.ripple})),A=(0,t.EW)(()=>{const l={[B.value]:!1};return""!==e.activeDesign&&(l[e.activeDesign]=!0),l}),_=(0,t.EW)(()=>({...A.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),P=(0,t.EW)(()=>{let l=Math.max(m.value,1+(S.value?2:0)+(h.value?2:0));const a={pgFrom:b.value,pgTo:g.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(g.value).length)}em`}};return m.value&&l<g.value-b.value+1&&(l=1+2*Math.floor(l/2),a.pgFrom=Math.max(b.value,Math.min(g.value-l+1,e.modelValue-Math.floor(l/2))),a.pgTo=Math.min(g.value,a.pgFrom+l-1),h.value&&(a.boundaryStart=!0,a.pgFrom++),S.value&&a.pgFrom>b.value+(h.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),h.value&&(a.boundaryEnd=!0,a.pgTo--),S.value&&a.pgTo<g.value-(h.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function j(e){x.value=e}function O(e){x.value=x.value+e}function D(){x.value=V.value,V.value=null,!0===s.platform.is.mobile&&document.activeElement.blur()}function M(e){V.value=e}function Q(e){!0===(0,c.Dv)(e,13)&&D()}function T(l,a,n){const i={"aria-label":a,"aria-current":"false",...W.value,...l};return!0===n&&Object.assign(i,{"aria-current":"true",..._.value}),void 0!==a&&(void 0!==e.toFn?i.to=e.toFn(a):i.onClick=()=>{j(a)}),(0,t.h)(o.A,i)}return Object.assign(a,{set:j,setByOffset:O}),()=>{const l=[],a=[];let n;if(!0===y.value&&(l.push(T({key:"bls",disable:e.disable||e.modelValue<=b.value,icon:F.value[0],"aria-label":s.lang.pagination.first},b.value)),a.unshift(T({key:"ble",disable:e.disable||e.modelValue>=g.value,icon:F.value[3],"aria-label":s.lang.pagination.last},g.value))),!0===k.value&&(l.push(T({key:"bdp",disable:e.disable||e.modelValue<=b.value,icon:F.value[1],"aria-label":s.lang.pagination.prev},e.modelValue-1)),a.unshift(T({key:"bdn",disable:e.disable||e.modelValue>=g.value,icon:F.value[2],"aria-label":s.lang.pagination.next},e.modelValue+1))),!0!==e.input){n=[];const{pgFrom:t,pgTo:o,marginalStyle:i}=P.value;if(!0===P.value.boundaryStart){const a=b.value===e.modelValue;l.push(T({key:"bns",style:i,disable:e.disable,label:b.value},b.value,a))}if(!0===P.value.boundaryEnd){const l=g.value===e.modelValue;a.unshift(T({key:"bne",style:i,disable:e.disable,label:g.value},g.value,l))}!0===P.value.ellipsesStart&&l.push(T({key:"bes",style:i,disable:e.disable,label:"…",ripple:!1},t-1)),!0===P.value.ellipsesEnd&&a.unshift(T({key:"bee",style:i,disable:e.disable,label:"…",ripple:!1},o+1));for(let l=t;l<=o;l++)n.push(T({key:`bpg${l}`,style:i,disable:e.disable,label:l},l,l===e.modelValue))}return(0,t.h)("div",{class:w.value,...q.value},[(0,t.h)("div",{class:"q-pagination__content row no-wrap items-center",style:E.value},[...l,!0===e.input?(0,t.h)(i.A,{class:"inline",style:{width:f.value.length/1.5+"em"},type:"number",dense:!0,value:V.value,disable:e.disable,dark:v.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:f.value,min:b.value,max:g.value,"onUpdate:modelValue":M,onKeyup:Q,onBlur:D}):(0,t.h)("div",{class:"q-pagination__middle row justify-center"},n),...a])])}}})},7943:function(e,l,a){a.r(l),a.d(l,{default:function(){return S}});var t=a(4220),n=a(6732),o=a(3942),i=a(7939),u={__name:"pedidoDclientes.old",props:{clienteObj:{type:Object,required:!0}},emits:["close","update:modelValue"],setup(e,{emit:l}){const a=e,u=l,r=(0,n.KR)(a.modelValue);(0,t.wB)(()=>a.modelValue,e=>{r.value=e}),(0,t.wB)(r,e=>{u("update:modelValue",e)}),(0,t.wB)(()=>a.clienteObj,e=>{e&&e.idcliente&&b()});const s=[{name:"iddepedido",label:"Id de Pedido",align:"center",field:"iddepedido",sortable:!0},{name:"actions",label:"Acciones",align:"center",field:"actions",sortable:!1}],d=(0,n.KR)(["iddepedido","actions"]),c=(0,n.Kh)({tableData:[],blurry:"",total:0}),p=(0,n.KR)({page:1,rowsPerPage:10}),v=(0,n.KR)(!1),b=()=>{if(!a.clienteObj||!a.clienteObj.idcliente)return void console.error("No se recibió el `idcliente`.");v.value=!0;const e={id:a.clienteObj.idcliente,blurry:c.blurry,currentPage:p.value.page,size:p.value.rowsPerPage};(0,o.nn)(e).then(e=>{v.value=!1,e.success?(c.tableData=e.data.records,c.total=e.data.total):(0,i.aJ)(e.msg)}).catch(e=>{v.value=!1,console.error("Error en la solicitud:",e)})};(0,t.sV)(()=>{console.log("ingreso a onMounted"),b()});const g=()=>{console.log("Formulario enviado")};return(e,l)=>{const a=(0,t.g2)("q-card-section"),n=(0,t.g2)("q-icon"),o=(0,t.g2)("q-input"),i=(0,t.g2)("q-btn"),u=(0,t.g2)("q-td"),m=(0,t.g2)("q-table"),f=(0,t.g2)("q-pagination"),y=(0,t.g2)("q-card-actions"),h=(0,t.g2)("q-card"),k=(0,t.g2)("q-dialog");return(0,t.uX)(),(0,t.Wv)(k,{modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value=e),persistent:""},{default:(0,t.k6)(()=>[(0,t.bF)(h,{style:{width:"80vw","max-width":"1200px"}},{default:(0,t.k6)(()=>[(0,t.bF)(a,null,{default:(0,t.k6)(()=>[...l[5]||(l[5]=[(0,t.Lk)("div",{class:"text-h6"},"Pedidos del Cliente",-1)])]),_:1}),(0,t.bF)(m,{color:"primary","card-class":"bg-amber-5 text-brown","table-class":"text-grey-8","table-header-class":"text-brown",flat:"",bordered:"",ref:"tableRef",title:"Pedidos",rows:c.tableData,columns:s,"row-key":"iddepedido",pagination:p.value,"onUpdate:pagination":l[1]||(l[1]=e=>p.value=e),loading:v.value,filter:c.blurry,"binary-state-sort":"","visible-columns":d.value},{"top-right":(0,t.k6)(()=>[(0,t.bF)(o,{borderless:"",dense:"",debounce:"300",modelValue:c.blurry,"onUpdate:modelValue":l[0]||(l[0]=e=>c.blurry=e),placeholder:"Buscar"},{append:(0,t.k6)(()=>[(0,t.bF)(n,{name:"search",onClick:b})]),_:1},8,["modelValue"])]),"body-cell-actions":(0,t.k6)(l=>[(0,t.bF)(u,{props:l},{default:(0,t.k6)(()=>[(0,t.bF)(i,{onClick:a=>e.onDelete(l.row),"fab-mini":"",dense:"",square:"",outline:"",icon:"delete",color:"negative","aria-label":"Eliminar"},null,8,["onClick"]),(0,t.bF)(i,{onClick:a=>e.onPedidos(l.row),"fab-mini":"",dense:"",square:"",outline:"",icon:"table_view",color:"negative","aria-label":"Detalle"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination","loading","filter","visible-columns"]),(0,t.bF)(f,{modelValue:p.value.page,"onUpdate:modelValue":[l[2]||(l[2]=e=>p.value.page=e),b],max:Math.ceil(c.total/p.value.rowsPerPage)},null,8,["modelValue","max"]),(0,t.bF)(y,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{flat:"",label:"Cancelar",color:"negative",onClick:l[3]||(l[3]=l=>e.$emit("close"))}),(0,t.bF)(i,{flat:"",label:"Guardar",color:"primary",onClick:g})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},r=a(7438),s=a(3663),d=a(7180),c=a(1598),p=a(4985),v=a(4503),b=a(3403),g=a(407),m=a(4183),f=a(1248),y=a(2110),h=a.n(y);const k=u;var S=k;h()(u,"components",{QDialog:r.A,QCard:s.A,QCardSection:d.A,QTable:c.A,QInput:p.A,QIcon:v.A,QTd:b.A,QBtn:g.A,QPagination:m.A,QCardActions:f.A})}}]);
//# sourceMappingURL=324.26b65c7d.js.map