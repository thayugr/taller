"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[97],{9097:function(e,a,l){l.r(a),l.d(a,{default:function(){return V}});var t=l(4220),o=l(6732),d=l(3942),n=l(7939),i=l(5815),r={__name:"pedidoDclientes",props:{clienteObj:{type:Object,default:()=>({})},modelValue:{type:Boolean,default:!1}},emits:["close","update:modelValue"],setup(e,{emit:a}){console.log("ingreso aqui");const l=e;console.log("clienteObj"),console.log(l.clienteObj);const r=a,u=(0,o.KR)(l.modelValue);(0,t.wB)(()=>l.modelValue,e=>u.value=e),(0,t.wB)(u,e=>r("update:modelValue",e));const c=[{name:"iddepedido",label:"ID Pedido",align:"center",field:"iddepedido",sortable:!0},{name:"Fecha de pedido",required:!0,label:"Fecha de pedido",align:"left",field:"fechadepedido",sortable:!0,format:e=>i.Ay.formatDate(e,"DD-MM-YYYY")},{name:"Fecha de envio",required:!0,label:"Fecha de envio",align:"left",field:"fechadeenvio",sortable:!0,format:e=>i.Ay.formatDate(e,"DD-MM-YYYY")},{name:"subtotal",label:"Sub Total",align:"center",field:"subtotal",sortable:!0},{name:"totalpedido",label:"Total Pedido",align:"center",field:"totalpedido",sortable:!0},{name:"gastosdeenvio",label:"Gastos de Envio",align:"center",field:"gastosdeenvio",sortable:!0}],s=(0,o.Kh)({tableData:[],blurry:"",total:0}),b=(0,o.KR)({page:1,rowsPerPage:10}),g=(0,o.KR)(!1),m=()=>{if(!l.clienteObj.idcliente)return;g.value=!0;const e={id:l.clienteObj.idcliente,blurry:s.blurry,currentPage:b.value.page,size:b.value.rowsPerPage};(0,d.nn)(e).then(e=>{g.value=!1,e.success?(console.log("res.data"),console.log(e.data),s.tableData=e.data||[],s.total=e.data.total||0,u=!0):(0,n.aJ)(e.msg)}).catch(()=>{g.value=!1,(0,n.aJ)("Error al cargar los pedidos")})};return(0,t.wB)(()=>l.clienteObj,e=>{e&&e.idcliente&&m()},{immediate:!0}),(e,a)=>{const l=(0,t.g2)("q-card-section"),o=(0,t.g2)("q-icon"),d=(0,t.g2)("q-input"),n=(0,t.g2)("q-table"),i=(0,t.g2)("q-pagination"),r=(0,t.g2)("q-btn"),p=(0,t.g2)("q-card-actions"),f=(0,t.g2)("q-card"),v=(0,t.g2)("q-dialog");return(0,t.uX)(),(0,t.Wv)(v,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value=e),persistent:""},{default:(0,t.k6)(()=>[(0,t.bF)(f,{style:{width:"80vw","max-width":"1200px"}},{default:(0,t.k6)(()=>[(0,t.bF)(l,null,{default:(0,t.k6)(()=>[...a[4]||(a[4]=[(0,t.Lk)("div",{class:"text-h6"},"Pedidos del Cliente",-1)])]),_:1}),(0,t.bF)(n,{rows:s.tableData,columns:c,loading:g.value,"row-key":"iddepedido",color:"primary",flat:"",bordered:""},{"top-right":(0,t.k6)(()=>[(0,t.bF)(d,{borderless:"",dense:"",debounce:"300",modelValue:s.blurry,"onUpdate:modelValue":a[0]||(a[0]=e=>s.blurry=e),placeholder:"Buscar"},{append:(0,t.k6)(()=>[(0,t.bF)(o,{name:"search",onClick:m})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading"]),(0,t.bF)(i,{modelValue:b.value.page,"onUpdate:modelValue":[a[1]||(a[1]=e=>b.value.page=e),m],max:Math.ceil(s.total/b.value.rowsPerPage)},null,8,["modelValue","max"]),(0,t.bF)(p,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bF)(r,{flat:"",label:"Cerrar",color:"negative",onClick:a[2]||(a[2]=a=>e.$emit("close"))})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},u=l(7438),c=l(3663),s=l(7180),b=l(1598),g=l(4985),m=l(4503),p=l(4183),f=l(1248),v=l(407),h=l(2110),w=l.n(h);const k=r;var V=k;w()(r,"components",{QDialog:u.A,QCard:c.A,QCardSection:s.A,QTable:b.A,QInput:g.A,QIcon:m.A,QPagination:p.A,QCardActions:f.A,QBtn:v.A})}}]);
//# sourceMappingURL=97.27384ffe.js.map