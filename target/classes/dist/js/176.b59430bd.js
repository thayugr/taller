"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[176],{3403:function(e,t,o){var n=o(4220),l=o(9140),i=o(1952);t.A=(0,l.a0)({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=(0,n.nI)(),l=(0,n.EW)(()=>"q-td"+(!0===e.autoWidth?" q-table--col-auto-width":"")+(!0===e.noHover?" q-td--no-hover":"")+" ");return()=>{if(void 0===e.props)return(0,n.h)("td",{class:l.value},(0,i.zm)(t.default));const a=o.vnode.key,r=(void 0!==e.props.colsMap?e.props.colsMap[a]:null)||e.props.col;if(void 0===r)return;const{row:s}=e.props;return(0,n.h)("td",{class:l.value+r.__tdClass(s),style:r.__tdStyle(s)},(0,i.zm)(t.default))}}})},3555:function(e,t,o){o.d(t,{A:function(){return g}});var n=o(4220),l=o(6732),i=o(1030),a=o(9140),r=o(3903),s=o(5055);const{passive:c}=s.mG,u=["both","horizontal","vertical"];var d=(0,a.a0)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>u.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:r.cP},emits:["scroll"],setup(e,{emit:t}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let l,i,a=null;function u(){a?.();const n=Math.max(0,(0,r.fQ)(l)),i=(0,r.lS)(l),s={top:n-o.position.top,left:i-o.position.left};if("vertical"===e.axis&&0===s.top||"horizontal"===e.axis&&0===s.left)return;const c=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";o.position={top:n,left:i},o.directionChanged=o.direction!==c,o.delta=s,!0===o.directionChanged&&(o.direction=c,o.inflectionPoint=o.position),t("scroll",{...o})}function d(){l=(0,r.hD)(i,e.scrollTarget),l.addEventListener("scroll",f,c),f(!0)}function p(){void 0!==l&&(l.removeEventListener("scroll",f,c),l=void 0)}function f(t){if(!0===t||0===e.debounce||"0"===e.debounce)u();else if(null===a){const[t,o]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];a=()=>{o(t),a=null}}}(0,n.wB)(()=>e.scrollTarget,()=>{p(),d()});const{proxy:v}=(0,n.nI)();return(0,n.wB)(()=>v.$q.lang.rtl,u),(0,n.sV)(()=>{i=v.$el.parentNode,d()}),(0,n.xo)(()=>{a?.(),p()}),Object.assign(v,{trigger:f,getPosition:()=>o}),s.lQ}});function p(){const e=(0,l.KR)(!i.ot.value);return!1===e.value&&(0,n.sV)(()=>{e.value=!0}),{isHydrated:e}}const f="undefined"!==typeof ResizeObserver,v=!0===f?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var h=(0,a.a0)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let o,l=null,i={width:-1,height:-1};function a(t){!0===t||0===e.debounce||"0"===e.debounce?r():null===l&&(l=setTimeout(r,e.debounce))}function r(){if(null!==l&&(clearTimeout(l),l=null),o){const{offsetWidth:e,offsetHeight:n}=o;e===i.width&&n===i.height||(i={width:e,height:n},t("resize",i))}}const{proxy:c}=(0,n.nI)();if(c.trigger=a,!0===f){let u;const d=e=>{o=c.$el.parentNode,o?(u=new ResizeObserver(a),u.observe(o),r()):!0!==e&&(0,n.dY)(()=>{d(!0)})};return(0,n.sV)(()=>{d()}),(0,n.xo)(()=>{null!==l&&clearTimeout(l),void 0!==u&&(void 0!==u.disconnect?u.disconnect():o&&u.unobserve(o))}),s.lQ}{const{isHydrated:h}=p();let b;function m(){null!==l&&(clearTimeout(l),l=null),void 0!==b&&(void 0!==b.removeEventListener&&b.removeEventListener("resize",a,s.mG.passive),b=void 0)}function g(){m(),o?.contentDocument&&(b=o.contentDocument.defaultView,b.addEventListener("resize",a,s.mG.passive),r())}return(0,n.sV)(()=>{(0,n.dY)(()=>{o=c.$el,o&&g()})}),(0,n.xo)(m),()=>{if(!0===h.value)return(0,n.h)("object",{class:"q--avoid-card-border",style:v.style,tabindex:-1,type:"text/html",data:v.url,"aria-hidden":"true",onLoad:g})}}}}),b=o(1952),m=o(3430),g=(0,a.a0)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=(0,n.nI)(),s=(0,l.KR)(null),c=(0,l.KR)(a.screen.height),u=(0,l.KR)(!0===e.container?0:a.screen.width),p=(0,l.KR)({position:0,direction:"down",inflectionPoint:0}),f=(0,l.KR)(0),v=(0,l.KR)(!0===i.ot.value?0:(0,r.XJ)()),g=(0,n.EW)(()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard")),y=(0,n.EW)(()=>!1===e.container?{minHeight:a.screen.height+"px"}:null),w=(0,n.EW)(()=>0!==v.value?{[!0===a.lang.rtl?"left":"right"]:`${v.value}px`}:null),_=(0,n.EW)(()=>0!==v.value?{[!0===a.lang.rtl?"right":"left"]:0,[!0===a.lang.rtl?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function k(t){if(!0===e.container||!0!==document.qScrollPrevented){const n={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};p.value=n,void 0!==e.onScroll&&o("scroll",n)}}function C(t){const{height:n,width:l}=t;let i=!1;c.value!==n&&(i=!0,c.value=n,void 0!==e.onScrollHeight&&o("scrollHeight",n),q()),u.value!==l&&(i=!0,u.value=l),!0===i&&void 0!==e.onResize&&o("resize",t)}function W({height:e}){f.value!==e&&(f.value=e,q())}function q(){if(!0===e.container){const e=c.value>f.value?(0,r.XJ)():0;v.value!==e&&(v.value=e)}}let F=null;const z={instances:{},view:(0,n.EW)(()=>e.view),isContainer:(0,n.EW)(()=>e.container),rootRef:s,height:c,containerHeight:f,scrollbarWidth:v,totalWidth:(0,n.EW)(()=>u.value+v.value),rows:(0,n.EW)(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:(0,l.Kh)({size:0,offset:0,space:!1}),right:(0,l.Kh)({size:300,offset:0,space:!1}),footer:(0,l.Kh)({size:0,offset:0,space:!1}),left:(0,l.Kh)({size:300,offset:0,space:!1}),scroll:p,animate(){null!==F?clearTimeout(F):document.body.classList.add("q-body--layout-animate"),F=setTimeout(()=>{F=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,t,o){z[e][t]=o}};if((0,n.Gt)(m.ON,z),(0,r.XJ)()>0){let x=null;const Q=document.body;function A(){x=null,Q.classList.remove("hide-scrollbar")}function E(){if(null===x){if(Q.scrollHeight>a.screen.height)return;Q.classList.add("hide-scrollbar")}else clearTimeout(x);x=setTimeout(A,300)}function R(e){null!==x&&"remove"===e&&(clearTimeout(x),A()),window[`${e}EventListener`]("resize",E)}(0,n.wB)(()=>!0!==e.container?"add":"remove",R),!0!==e.container&&R("add"),(0,n.hi)(()=>{R("remove")})}return()=>{const o=(0,b.Hp)(t.default,[(0,n.h)(d,{onScroll:k}),(0,n.h)(h,{onResize:C})]),l=(0,n.h)("div",{class:g.value,style:y.value,ref:!0===e.container?void 0:s,tabindex:-1},o);return!0===e.container?(0,n.h)("div",{class:"q-layout-container overflow-hidden",ref:s},[(0,n.h)(h,{onResize:W}),(0,n.h)("div",{class:"absolute-full",style:w.value},[(0,n.h)("div",{class:"scroll",style:_.value},[l])])]):l}}})},4176:function(e,t,o){o.r(t),o.d(t,{default:function(){return z}});var n=o(4220),l=o(6732),i=o(7700),a=o(4382),r=o(7939),s=o(7251),c=o(9806);const u={class:"searchDiv q-gutter-sm row items-center"};var d={__name:"index copy",setup(e){const t=(0,l.Kh)({blurry:"",tableData:[],clienteObj:{}}),o=(0,l.KR)(!1);(0,n.sV)(()=>{d()});const d=()=>{(0,a.I)({blurry:t.blurry}).then(e=>{e.success?t.tableData=e.data:(0,r.aJ)(e.msg)})},p=(e,t)=>{c.A.create({title:"Confirmación",message:`¿Estás seguro de eliminar el cliente ${t}?`,cancel:!0,persistent:!0}).onOk(()=>{delCliente({id:e}).then(e=>{e.success?((0,r.j3)(e.data),d()):(0,r.aJ)(e.msg)})}).onCancel(()=>{(0,r.SV)("Operación cancelada")})};return(e,a)=>{const r=(0,n.g2)("q-input"),c=(0,n.g2)("q-btn"),f=(0,n.g2)("q-th"),v=(0,n.g2)("q-tr"),h=(0,n.g2)("q-td"),b=(0,n.g2)("q-table"),m=(0,n.g2)("edit-cliente"),g=(0,n.g2)("q-page"),y=(0,n.g2)("q-page-container"),w=(0,n.g2)("q-layout");return(0,n.uX)(),(0,n.Wv)(w,{view:"hHh lpR fFf"},{default:(0,n.k6)(()=>[(0,n.bF)(y,null,{default:(0,n.k6)(()=>[(0,n.bF)(g,{class:"q-pa-md"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",u,[(0,n.bF)(r,{class:"searchInput",modelValue:t.blurry,"onUpdate:modelValue":a[0]||(a[0]=e=>t.blurry=e),placeholder:"Ingrese nombre o ID de cliente",clearable:""},null,8,["modelValue"]),(0,n.bF)(c,{label:"Consultas",color:"primary",onClick:d}),(0,l.R1)(s.s)("clientes:add")?((0,n.uX)(),(0,n.Wv)(c,{key:0,label:"Nuevo Cliente",color:"primary",onClick:e.editClienteFun,class:"q-ml-auto"},null,8,["onClick"])):(0,n.Q3)("",!0)]),(0,n.bF)(b,{rows:t.tableData,"row-key":"id",class:"q-mt-md","rows-per-page-options":[0],flat:""},{default:(0,n.k6)(()=>[(0,n.bF)(v,{slot:"header",class:"bg-grey-2 text-bold"},{default:(0,n.k6)(()=>[(0,n.bF)(f,{label:"Compañía"},{default:(0,n.k6)(()=>[...a[2]||(a[2]=[(0,n.eW)("Compañía",-1)])]),_:1}),(0,n.bF)(f,{label:"Apellidos"},{default:(0,n.k6)(()=>[...a[3]||(a[3]=[(0,n.eW)("Apellidos",-1)])]),_:1}),(0,n.bF)(f,{label:"Nombre"},{default:(0,n.k6)(()=>[...a[4]||(a[4]=[(0,n.eW)("Nombre",-1)])]),_:1}),(0,n.bF)(f,{label:"Dirección"},{default:(0,n.k6)(()=>[...a[5]||(a[5]=[(0,n.eW)("Dirección",-1)])]),_:1}),(0,n.bF)(f,{label:"Ciudad"},{default:(0,n.k6)(()=>[...a[6]||(a[6]=[(0,n.eW)("Ciudad",-1)])]),_:1}),(0,n.bF)(f,{label:"Acciones",align:"center"},{default:(0,n.k6)(()=>[...a[7]||(a[7]=[(0,n.eW)("Acciones",-1)])]),_:1})]),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.tableData,t=>((0,n.uX)(),(0,n.Wv)(v,{key:t.id},{default:(0,n.k6)(()=>[(0,n.bF)(h,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(t.Compañia),1)]),_:2},1024),(0,n.bF)(h,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(t.Apellidos),1)]),_:2},1024),(0,n.bF)(h,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(t.Nombre),1)]),_:2},1024),(0,n.bF)(h,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(t.Direccion),1)]),_:2},1024),(0,n.bF)(h,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(t.Ciudad),1)]),_:2},1024),(0,n.bF)(h,{align:"center"},{default:(0,n.k6)(()=>[(0,n.bF)(c,{label:"Editar",color:"primary",onClick:o=>e.editClienteFun(t)},null,8,["onClick"]),(0,n.bF)(c,{label:"Eliminar",color:"negative",onClick:e=>p(t.id,t.Nombre)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["rows"]),(0,n.bF)(m,{"dialog-visible":o.value,"onUpdate:dialogVisible":a[1]||(a[1]=e=>o.value=e),"cliente-obj":t.clienteObj,onGetList:d},null,8,["dialog-visible","cliente-obj"])]),_:1})]),_:1})]),_:1})}}},p=o(1317),f=o(3555),v=o(6284),h=o(1399),b=o(4985),m=o(407),g=o(1598),y=o(9140),w=o(1952),_=(0,y.a0)({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const o=(0,n.EW)(()=>"q-tr"+(void 0===e.props||!0===e.props.header?"":" "+e.props.__trClass)+(!0===e.noHover?" q-tr--no-hover":""));return()=>(0,n.h)("tr",{style:e.props?.__trStyle,class:o.value},(0,w.zm)(t.default))}}),k=o(3831),C=o(3403),W=o(2110),q=o.n(W);const F=(0,p.A)(d,[["__scopeId","data-v-7674201e"]]);var z=F;q()(d,"components",{QLayout:f.A,QPageContainer:v.A,QPage:h.A,QInput:b.A,QBtn:m.A,QTable:g.A,QTr:_,QTh:k.A,QTd:C.A})},4382:function(e,t,o){o.d(t,{I:function(){return l}});var n=o(6381);function l(e){return(0,n.A)({url:"/api/sys/clientes/table",method:"get",params:e})}},6284:function(e,t,o){var n=o(4220),l=o(9140),i=o(1952),a=o(3430);t.A=(0,l.a0)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:o}}=(0,n.nI)(),l=(0,n.WQ)(a.ON,a.U_);if(l===a.U_)return console.error("QPageContainer needs to be child of QLayout"),a.U_;(0,n.Gt)(a.YR,!0);const r=(0,n.EW)(()=>{const e={};return!0===l.header.space&&(e.paddingTop=`${l.header.size}px`),!0===l.right.space&&(e["padding"+(!0===o.lang.rtl?"Left":"Right")]=`${l.right.size}px`),!0===l.footer.space&&(e.paddingBottom=`${l.footer.size}px`),!0===l.left.space&&(e["padding"+(!0===o.lang.rtl?"Right":"Left")]=`${l.left.size}px`),e});return()=>(0,n.h)("div",{class:"q-page-container",style:r.value},(0,i.zm)(t.default))}})}}]);
//# sourceMappingURL=176.b59430bd.js.map