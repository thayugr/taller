{"version":3,"file":"js/12.e4f580da.js","mappings":"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","sources":["webpack://web/./src/views/modulo1/editModulo1.vue","webpack://web/./src/views/modulo1/editModulo1.vue?ba40","webpack://web/./src/api/modulo1/modulo1.js"],"sourcesContent":["<template>\r\n  <el-dialog :title=\"state.title\" v-model=\"visible\" :close-on-click-modal=\"false\" @opened=\"openFun\">\r\n    <el-form :model=\"state.userForm\" :rules=\"state.rules\" ref=\"userRef\" label-width=\"120px\">\r\n      <el-form-item v-show=\"false\" prop=\"id\">\r\n        <el-input v-model=\"state.userForm.id\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"nombre de usuario\" prop=\"username\">\r\n        <el-input v-model=\"state.userForm.username\" placeholder=\"Por favor ingrese el nombre de usuario\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"Apoodo\" prop=\"nickName\">\r\n        <el-input v-model=\"state.userForm.nickName\" placeholder=\"Por favor ingresa un apodo\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"rol de usuario\" prop=\"roleIds\">\r\n        <el-select v-model=\"state.userForm.roleIds\" multiple placeholder=\"Por favor seleccione un rol\">\r\n          <el-option v-for=\"(item, index) in state.roleList\" :key=\"index\" :label=\"item.roleName\" :value=\"parseInt(item.id)\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span>\r\n      <el-button @click=\"resetForm(userRef)\">reiniciar</el-button>\r\n      <el-button type=\"primary\" :loading=\"isLoading\" @click=\"submitUser\">seguro</el-button>\r\n    </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport {editModulo1} from \"../../api/modulo1/modulo1\";\r\n//import {getRoleList} from \"../../api/role/sysRole\";\r\nimport {errorMsg, successMsg} from \"../../utils/message\";\r\nimport {resetForm} from \"../../utils/common\";\r\nimport {computed, reactive, ref} from \"vue\";\r\n\r\nconst props = defineProps({\r\n  dialogVisible: {\r\n    type: Boolean,\r\n    required: true,\r\n    default: false\r\n  },\r\n  userObj: Object\r\n})\r\n\r\nconst emit = defineEmits(['update:dialogVisible', 'get-list'])\r\n\r\nconst visible = computed({\r\n  get: () => props.dialogVisible,\r\n  set: (val) => emit('update:dialogVisible', val)\r\n})\r\n\r\nconst isLoading = ref(false)\r\n\r\nconst userRef = ref()\r\n\r\nconst state = reactive({\r\n  title: 'Nuevo',\r\n  userForm: {\r\n    id: null,\r\n    username: '',\r\n    nickName: '',\r\n    roleIds: []\r\n  },\r\n  rules: {\r\n    username: [{required: true, message: 'El nombre de usuario no puede estar vacío', trigger: 'blur'}],\r\n    nickName: [{required: true, message: 'El apodo del usuario no puede estar vacío', trigger: 'blur'}],\r\n    roleIds: [{required: true, message: 'El rol de usuario no puede estar vacío', trigger: 'change'}]\r\n  },\r\n  roleList: []\r\n})\r\n\r\nconst openFun = () => {\r\n  resetForm(userRef.value)\r\n  state.title = 'Nuevo'\r\n  getRoleListFun()\r\n  isLoading.value = false\r\n  if (props.userObj.id){\r\n    state.title = 'Editar'\r\n    state.userForm = props.userObj\r\n    state.userForm.roleIds = state.userForm.roleIds[0].split(',')\r\n    // Convertir números de cadena en roleIds a números\r\n    state.userForm.roleIds = state.userForm.roleIds.map(Number)\r\n  }\r\n}\r\n//  Obtener lista de roles\r\nconst getRoleListFun = () => {\r\n  getRoleList({}).then(res => {\r\n    if (res.success){\r\n      state.roleList = res.data\r\n    } else {\r\n      errorMsg(res.msg)\r\n    }\r\n  })\r\n}\r\n//  Entregar\r\nconst submitUser = () => {\r\n  console.log('INSERTAR');\r\n  userRef.value.validate((valid) => {\r\n    if (valid){\r\n      isLoading.value = true\r\n      editUser(state.userForm).then(res => {\r\n        if (res.success){\r\n          successMsg(res.data)\r\n          console.log(res.data)\r\n          visible.value = false\r\n          emit('get-list')\r\n        } else {\r\n          errorMsg(res.msg)\r\n        }\r\n        isLoading.value = false\r\n      })\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n :deep(.vue-treeselect__control){\r\n  height: 28px;\r\n}\r\n :deep(.el-form-item__content){\r\n   line-height: 28px;\r\n   font-size: 12px;\r\n }\r\n</style>","import script from \"./editModulo1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./editModulo1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./editModulo1.vue?vue&type=style&index=0&id=a2e548cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a2e548cc\"]])\n\nexport default __exports__","import request from \"../../utils/request\";\r\n\r\nexport function getModulo1Table(params){\r\n    return request({\r\n        url: '/api/sys/modulo1/table',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\nexport function editModulo1(data){\r\n    return request({\r\n        url: '/api/sys/modulo1/edit',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n\r\n// detalle de clientes \r\nexport function getModulo1DClientesTable(params){\r\n    return request({\r\n        url: '/api/sys/modulo1/tabledclientes',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n// defino la funcion asociada al methodo en spring\r\n// editar el cliente \r\nexport function editCliente(data){\r\n    return request({\r\n        url: '/api/sys/modulo1/edit',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n// eliminar \r\nexport function delModulo1(params){\r\n    return request({\r\n        url: '/api/sys/modulo1/del',\r\n        method: 'delete',\r\n        params\r\n    })\r\n}\r\n\r\n// DETALLE DE PEDIDOS SELECCIONADO POR EL CLIENTE\r\n//getModulo1DClientesPedidosTable\r\nexport function getModulo1DClientesPedidosTable(params){\r\n    return request({\r\n        url: '/api/sys/modulo1/tabledclientespedido',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n"],"names":["props","__props","emit","__emit","visible","computed","get","dialogVisible","set","val","isLoading","ref","userRef","state","reactive","title","userForm","id","username","nickName","roleIds","rules","required","message","trigger","roleList","openFun","resetForm","value","getRoleListFun","userObj","split","map","Number","getRoleList","then","res","success","data","errorMsg","msg","submitUser","console","log","validate","valid","editUser","successMsg","_createBlock","_component_el_dialog","$event","onOpened","footer","_withCtx","_createElementVNode","_createVNode","_component_el_button","onClick","_cache","_unref","type","loading","_component_el_form","model","_component_el_form_item","prop","_component_el_input","label","placeholder","_component_el_select","multiple","_createElementBlock","_Fragment","_renderList","item","index","_component_el_option","key","roleName","parseInt","__exports__","getModulo1Table","params","request","url","method","getModulo1DClientesTable","editCliente","getModulo1DClientesPedidosTable"],"sourceRoot":""}