{"version":3,"file":"js/97.27384ffe.js","mappings":"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","sources":["webpack://web/./src/views/modulo1/dclientes/pedidoDclientes.vue","webpack://web/./src/views/modulo1/dclientes/pedidoDclientes.vue?aa49"],"sourcesContent":["<template>\r\n    <q-dialog v-model=\"dialogVisible\" persistent>\r\n      <q-card style=\"width: 80vw; max-width: 1200px;\">\r\n        <q-card-section>\r\n          <div class=\"text-h6\">Pedidos del Cliente</div>\r\n        </q-card-section>\r\n  \r\n        <q-table\r\n          :rows=\"state.tableData\"\r\n          :columns=\"columns\"\r\n          :loading=\"loading\"\r\n          row-key=\"iddepedido\"\r\n          color=\"primary\"\r\n          flat\r\n          bordered\r\n        >\r\n          <template v-slot:top-right>\r\n            <q-input borderless dense debounce=\"300\" v-model=\"state.blurry\" placeholder=\"Buscar\">\r\n              <template v-slot:append>\r\n                <q-icon name=\"search\" @click=\"getModulo1DClientesPedidosTableFun\" />\r\n              </template>\r\n            </q-input>\r\n          </template>\r\n        </q-table>\r\n  \r\n        <q-pagination\r\n          v-model=\"pagination.page\"\r\n          :max=\"Math.ceil(state.total / pagination.rowsPerPage)\"\r\n          @update:model-value=\"getModulo1DClientesPedidosTableFun\"\r\n        />\r\n  \r\n        <q-card-actions align=\"right\">\r\n          <q-btn flat label=\"Cerrar\" color=\"negative\" @click=\"$emit('close')\" />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n  </template>\r\n  \r\n  <script setup>\r\n\r\n  import { ref, reactive, watch } from 'vue';\r\n  import { getModulo1DClientesPedidosTable } from '../../../api/modulo1/modulo1';\r\n  import { errorMsg } from '../../../utils/message';\r\n  import { date } from 'quasar';\r\n  console.log('ingreso aqui');\r\n  const props = defineProps({\r\n    clienteObj: { type: Object, default: () => ({}) },\r\n    modelValue: { type: Boolean, default: false },\r\n  });\r\n  console.log('clienteObj');\r\n  console.log(props.clienteObj);\r\n  \r\n  const emit = defineEmits(['close', 'update:modelValue']);\r\n  \r\n  const dialogVisible = ref(props.modelValue);\r\n  watch(() => props.modelValue, (newVal) => (dialogVisible.value = newVal));\r\n  watch(dialogVisible, (newVal) => emit('update:modelValue', newVal));\r\n  \r\n  const columns = [\r\n    { name: 'iddepedido', label: 'ID Pedido', align: 'center', field: 'iddepedido', sortable: true },\r\n    { name: 'Fecha de pedido', required: true, label: 'Fecha de pedido', align: 'left', field: 'fechadepedido', sortable: true, format: val => date.formatDate(val, 'DD-MM-YYYY')   },\r\n    { name: 'Fecha de envio', required: true, label: 'Fecha de envio', align: 'left', field: 'fechadeenvio', sortable: true, format: val => date.formatDate(val, 'DD-MM-YYYY')   },\r\n    { name: 'subtotal', label: 'Sub Total', align: 'center', field: 'subtotal', sortable: true },\r\n    { name: 'totalpedido', label: 'Total Pedido', align: 'center', field: 'totalpedido', sortable: true },\r\n    { name: 'gastosdeenvio', label: 'Gastos de Envio', align: 'center', field: 'gastosdeenvio', sortable: true },\r\n    \r\n    \r\n];\r\n  const state = reactive({\r\n    tableData: [],\r\n    blurry: '',\r\n    total: 0,\r\n  });\r\n  \r\n  const pagination = ref({ page: 1, rowsPerPage: 10 });\r\n  const loading = ref(false);\r\n  \r\n  \r\n  const getModulo1DClientesPedidosTableFun = () => {\r\n    if (!props.clienteObj.idcliente) return;\r\n    loading.value = true;\r\n    const params = {\r\n      id: props.clienteObj.idcliente,\r\n      blurry: state.blurry,\r\n      currentPage: pagination.value.page,\r\n      size: pagination.value.rowsPerPage,\r\n    };\r\n    getModulo1DClientesPedidosTable(params)\r\n      .then((res) => {\r\n        loading.value = false;\r\n       \r\n        if (res.success) {\r\n          console.log('res.data');\r\n          console.log(res.data);  \r\n          state.tableData = res.data || [];\r\n          state.total = res.data.total || 0;\r\n          dialogVisible = true;\r\n        } else {\r\n          errorMsg(res.msg);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        loading.value = false;\r\n        errorMsg('Error al cargar los pedidos');\r\n      });\r\n  };\r\n  \r\n  watch(\r\n    () => props.clienteObj,\r\n    (newVal) => {\r\n      if (newVal && newVal.idcliente) {\r\n        //console.log('Cliente seleccionado:', newVal);\r\n        getModulo1DClientesPedidosTableFun();\r\n      }\r\n    },\r\n    { immediate: true }\r\n  );\r\n  </script>\r\n  ","import script from \"./pedidoDclientes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./pedidoDclientes.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QTable from 'quasar/src/components/table/QTable.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QPagination from 'quasar/src/components/pagination/QPagination.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QDialog,QCard,QCardSection,QTable,QInput,QIcon,QPagination,QCardActions,QBtn});\n"],"names":["console","log","props","__props","clienteObj","emit","__emit","dialogVisible","ref","modelValue","watch","newVal","value","columns","name","label","align","field","sortable","required","format","val","date","state","reactive","tableData","blurry","total","pagination","page","rowsPerPage","loading","getModulo1DClientesPedidosTableFun","idcliente","params","id","currentPage","size","getModulo1DClientesPedidosTable","then","res","success","data","errorMsg","msg","catch","immediate","_createBlock","_component_q_dialog","$event","persistent","_createVNode","_component_q_card","style","_component_q_card_section","_cache","_createElementVNode","class","_component_q_table","rows","color","flat","bordered","_withCtx","_component_q_input","borderless","dense","debounce","placeholder","append","_component_q_icon","onClick","_component_q_pagination","max","Math","ceil","_component_q_card_actions","_component_q_btn","_ctx","$emit","__exports__","QDialog"],"sourceRoot":""}