{"version":3,"file":"js/951.1ce4ba88.js","mappings":"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","sources":["webpack://web/./src/components/Pagination.vue","webpack://web/./src/components/Pagination.vue?39f5","webpack://web/./src/views/log/ErrorDetail.vue","webpack://web/./src/views/log/ErrorDetail.vue?d09a","webpack://web/./src/api/log/sysLog.js","webpack://web/./src/views/log/index.vue","webpack://web/./src/views/log/index.vue?3a04"],"sourcesContent":["<template>\r\n  <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 50, 100, 200, 500, 1000]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"totalSize\">\r\n  </el-pagination>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed} from \"vue\";\r\n\r\nconst props = defineProps({\r\n  current: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  size: {\r\n    type: Number,\r\n    default: 10\r\n  },\r\n  total: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:current', 'update:size', 'get-list'])\r\n\r\nlet currentPage = computed({\r\n  get: () => props.current,\r\n  set: (val) => emit('update:current', val)\r\n})\r\n\r\nlet pageSize = computed({\r\n  get: () => props.size,\r\n  set: (val) => emit('update:size', val)\r\n})\r\n\r\nconst totalSize = computed(() => {\r\n  return props.total\r\n})\r\n\r\n//  Modificar el número de elementos por página\r\nconst handleSizeChange = (val) => {\r\n  pageSize.value = val\r\n  emit('get-list')\r\n}\r\n//  Modificar el número de página actual\r\nconst handleCurrentChange = (val) => {\r\n  currentPage.value = val\r\n  emit('get-list')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <el-dialog title=\"Detalles del error\" v-model=\"visible\">\r\n    <pre>{{ msg}}</pre>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed} from \"vue\";\r\n\r\nconst props = defineProps({\r\n  dialogVisible: {\r\n    type: Boolean,\r\n    require: true,\r\n    default: false\r\n  },\r\n  msg: String\r\n})\r\n\r\nconst emit = defineEmits(['update:dialogVisible'])\r\n\r\nconst visible = computed({\r\n  get: () => props.dialogVisible,\r\n  set: (val) => emit('update:dialogVisible', val)\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./ErrorDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ErrorDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import request from \"../../utils/request\";\r\n\r\n/**\r\n * Obtener lista de registro\r\n * @param params\r\n * @returns {AxiosPromise}\r\n */\r\nexport function getLogList(params){\r\n    return request({\r\n        url: '/api/sys/log/list',\r\n        method: 'get',\r\n        params\r\n    })\r\n}","<template>\r\n  <div>\r\n    <div class=\"searchDiv\">\r\n      <el-input class=\"searchInput\" v-model=\"state.blurry\" placeholder=\"Por favor ingrese el operador o descripción\" clearable></el-input>\r\n      <el-select class=\"searchInput\" v-model=\"state.logType\" placeholder=\"Por favor seleccione el tipo de registro\" clearable>\r\n        <el-option value=\"1\" label=\"exito\"></el-option>\r\n        <el-option value=\"2\" label=\"fallar\"></el-option>\r\n      </el-select>\r\n      <el-button type=\"primary\" @click=\"getLogs\">consulta</el-button>\r\n    </div>\r\n    <el-table :data=\"state.tableData\" row-key=\"id\" border>\r\n      <el-table-column label=\"numero de serie\" type=\"index\" width=\"60\">\r\n        <template #default=\"scope\">\r\n          <span>{{(state.current - 1) * state.size + 1 + scope.$index}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"operador\" prop=\"username\" width=\"100\"></el-table-column>\r\n      <el-table-column label=\"instrucciones de funcionamiento\" prop=\"description\" show-overflow-tooltip width=\"150\"></el-table-column>\r\n      <el-table-column label=\"metodo de solicitud\" prop=\"method\" show-overflow-tooltip></el-table-column>\r\n      <el-table-column label=\"solicitad parametros\" prop=\"params\" show-overflow-tooltip></el-table-column>\r\n      <el-table-column label=\"IP\" prop=\"ip\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"tipo de registro\" prop=\"logType\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <span>{{scope.row.logType === '1' ? 'exito' : 'fallar'}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"detaller del error\" prop=\"exceptionDetail\" show-overflow-tooltip>\r\n        <!--Limite la longitud de la visualización del error a 100 para evitar que el contenido sea demasiado largo y provoque fluctuaciones en la página debido al error en show-tooltip-when-overflow.-->\r\n        <template #default=\"scope\">\r\n          <span>{{scope.row.exceptionDetail ? scope.row.exceptionDetail.substring(0, 100) : ''}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"La solicitud lleva tiempo\" prop=\"time\" width=\"100\"></el-table-column>\r\n      <el-table-column label=\"tiempo de funcionamiento\" prop=\"createTime\" width=\"150\"></el-table-column>\r\n      <el-table-column label=\"funcionar\" prop=\"option\" width=\"120\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"primary\" :disabled=\"scope.row.logType === '1'\" @click=\"showErrorDetails(scope.row.exceptionDetail)\">Detaller del Error</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--    paginacion -->\r\n    <pagination v-model:current=\"state.current\" v-model:size=\"state.size\" v-model:total=\"state.total\" @get-list=\"getLogs\"></pagination>\r\n    <error-detail v-model:dialog-visible=\"dialogVisible\" :msg=\"state.msg\"></error-detail>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {getLogList} from \"../../api/log/sysLog\";\r\nimport {errorMsg} from \"../../utils/message\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport ErrorDetail from \"./ErrorDetail\";\r\nimport {onMounted, reactive, ref} from \"vue\";\r\n\r\nconst state = reactive({\r\n  blurry: '',\r\n  msg: null,\r\n  tableData: [],\r\n  logType: '',\r\n  current: 1,\r\n  size: 10,\r\n  total: 0\r\n})\r\n\r\nonMounted(() => {\r\n  getLogs()\r\n})\r\n\r\nconst dialogVisible = ref(false)\r\n\r\nconst getLogs = () => {\r\n  const params = {\r\n    blurry: state.blurry,\r\n    currentPage: state.current,\r\n    size: state.size,\r\n    logType: state.logType\r\n  }\r\n  getLogList(params).then(res => {\r\n    if (res.success){\r\n      state.tableData = res.data.records\r\n      state.total = res.data.total\r\n    } else {\r\n      errorMsg(res.msg)\r\n    }\r\n  })\r\n}\r\n//  Mostrar detalles del mensaje de error\r\nconst showErrorDetails = (msg) => {\r\n  dialogVisible.value = true\r\n  state.msg = msg\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tooltip__popper{\r\n  margin-left: 20px;\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b1defaa8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b1defaa8\"]])\n\nexport default __exports__"],"names":["props","__props","emit","__emit","currentPage","computed","get","current","set","val","pageSize","size","totalSize","total","handleSizeChange","value","handleCurrentChange","_createBlock","_component_el_pagination","onSizeChange","onCurrentChange","_unref","layout","__exports__","visible","dialogVisible","_component_el_dialog","title","$event","_createElementVNode","_toDisplayString","msg","getLogList","params","request","url","method","state","reactive","blurry","tableData","logType","onMounted","getLogs","ref","then","res","success","data","records","errorMsg","showErrorDetails","_createElementBlock","_hoisted_1","_createVNode","_component_el_input","class","placeholder","clearable","_component_el_select","_component_el_option","label","_component_el_button","type","onClick","_cache","_component_el_table","border","_component_el_table_column","width","default","_withCtx","scope","$index","prop","row","exceptionDetail","substring","align","disabled","Pagination","onGetList","ErrorDetail"],"sourceRoot":""}