"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[951,971],{366:function(e,t,l){l.d(t,{A:function(){return n}});var a=l(4220),o=l(6732),r={__name:"Pagination",props:{current:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:0}},emits:["update:current","update:size","get-list"],setup(e,{emit:t}){const l=e,r=t;let i=(0,a.EW)({get:()=>l.current,set:e=>r("update:current",e)}),n=(0,a.EW)({get:()=>l.size,set:e=>r("update:size",e)});const u=(0,a.EW)(()=>l.total),s=e=>{n.value=e,r("get-list")},p=e=>{i.value=e,r("get-list")};return(e,t)=>{const l=(0,a.g2)("el-pagination");return(0,a.uX)(),(0,a.Wv)(l,{onSizeChange:s,onCurrentChange:p,"current-page":(0,o.R1)(i),"page-sizes":[10,20,50,100,200,500,1e3],"page-size":(0,o.R1)(n),layout:"total, sizes, prev, pager, next, jumper",total:u.value},null,8,["current-page","page-size","total"])}}};const i=r;var n=i},8971:function(e,t,l){l.r(t),l.d(t,{default:function(){return n}});var a=l(4220),o=l(7700),r={__name:"ErrorDetail",props:{dialogVisible:{type:Boolean,require:!0,default:!1},msg:String},emits:["update:dialogVisible"],setup(e,{emit:t}){const l=e,r=t,i=(0,a.EW)({get:()=>l.dialogVisible,set:e=>r("update:dialogVisible",e)});return(t,l)=>{const r=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.Wv)(r,{title:"Detalles del error",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e)},{default:(0,a.k6)(()=>[(0,a.Lk)("pre",null,(0,o.v_)(e.msg),1)]),_:1},8,["modelValue"])}}};const i=r;var n=i},9951:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var a=l(4220),o=l(7700),r=l(6732),i=l(6381);function n(e){return(0,i.A)({url:"/api/sys/log/list",method:"get",params:e})}var u=l(7939),s=l(366),p=l(8971);const d={class:"searchDiv"};var c={__name:"index",setup(e){const t=(0,r.Kh)({blurry:"",msg:null,tableData:[],logType:"",current:1,size:10,total:0});(0,a.sV)(()=>{i()});const l=(0,r.KR)(!1),i=()=>{const e={blurry:t.blurry,currentPage:t.current,size:t.size,logType:t.logType};n(e).then(e=>{e.success?(t.tableData=e.data.records,t.total=e.data.total):(0,u.aJ)(e.msg)})},c=e=>{l.value=!0,t.msg=e};return(e,n)=>{const u=(0,a.g2)("el-input"),b=(0,a.g2)("el-option"),g=(0,a.g2)("el-select"),m=(0,a.g2)("el-button"),v=(0,a.g2)("el-table-column"),f=(0,a.g2)("el-table");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",d,[(0,a.bF)(u,{class:"searchInput",modelValue:t.blurry,"onUpdate:modelValue":n[0]||(n[0]=e=>t.blurry=e),placeholder:"Por favor ingrese el operador o descripciÃ³n",clearable:""},null,8,["modelValue"]),(0,a.bF)(g,{class:"searchInput",modelValue:t.logType,"onUpdate:modelValue":n[1]||(n[1]=e=>t.logType=e),placeholder:"Por favor seleccione el tipo de registro",clearable:""},{default:(0,a.k6)(()=>[(0,a.bF)(b,{value:"1",label:"exito"}),(0,a.bF)(b,{value:"2",label:"fallar"})]),_:1},8,["modelValue"]),(0,a.bF)(m,{type:"primary",onClick:i},{default:(0,a.k6)(()=>[...n[6]||(n[6]=[(0,a.eW)("consulta",-1)])]),_:1})]),(0,a.bF)(f,{data:t.tableData,"row-key":"id",border:""},{default:(0,a.k6)(()=>[(0,a.bF)(v,{label:"numero de serie",type:"index",width:"60"},{default:(0,a.k6)(e=>[(0,a.Lk)("span",null,(0,o.v_)((t.current-1)*t.size+1+e.$index),1)]),_:1}),(0,a.bF)(v,{label:"operador",prop:"username",width:"100"}),(0,a.bF)(v,{label:"instrucciones de funcionamiento",prop:"description","show-overflow-tooltip":"",width:"150"}),(0,a.bF)(v,{label:"metodo de solicitud",prop:"method","show-overflow-tooltip":""}),(0,a.bF)(v,{label:"solicitad parametros",prop:"params","show-overflow-tooltip":""}),(0,a.bF)(v,{label:"IP",prop:"ip",width:"120"}),(0,a.bF)(v,{label:"tipo de registro",prop:"logType",width:"100"},{default:(0,a.k6)(e=>[(0,a.Lk)("span",null,(0,o.v_)("1"===e.row.logType?"exito":"fallar"),1)]),_:1}),(0,a.bF)(v,{label:"detaller del error",prop:"exceptionDetail","show-overflow-tooltip":""},{default:(0,a.k6)(e=>[(0,a.Lk)("span",null,(0,o.v_)(e.row.exceptionDetail?e.row.exceptionDetail.substring(0,100):""),1)]),_:1}),(0,a.bF)(v,{label:"La solicitud lleva tiempo",prop:"time",width:"100"}),(0,a.bF)(v,{label:"tiempo de funcionamiento",prop:"createTime",width:"150"}),(0,a.bF)(v,{label:"funcionar",prop:"option",width:"120",align:"center"},{default:(0,a.k6)(e=>[(0,a.bF)(m,{type:"primary",disabled:"1"===e.row.logType,onClick:t=>c(e.row.exceptionDetail)},{default:(0,a.k6)(()=>[...n[7]||(n[7]=[(0,a.eW)("Detaller del Error",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["data"]),(0,a.bF)((0,r.R1)(s.A),{current:t.current,"onUpdate:current":n[2]||(n[2]=e=>t.current=e),size:t.size,"onUpdate:size":n[3]||(n[3]=e=>t.size=e),total:t.total,"onUpdate:total":n[4]||(n[4]=e=>t.total=e),onGetList:i},null,8,["current","size","total"]),(0,a.bF)((0,r.R1)(p["default"]),{"dialog-visible":l.value,"onUpdate:dialogVisible":n[5]||(n[5]=e=>l.value=e),msg:t.msg},null,8,["dialog-visible","msg"])])}}},b=l(1317);const g=(0,b.A)(c,[["__scopeId","data-v-b1defaa8"]]);var m=g}}]);
//# sourceMappingURL=951.1ce4ba88.js.map