"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[559],{655:function(e,l,o){o.d(l,{D3:function(){return t},Hz:function(){return i},hh:function(){return a},mg:function(){return u},yH:function(){return d}});var r=o(6381);function a(e){return(0,r.A)({url:"/api/sys/role/table",method:"get",params:e})}function t(e){return(0,r.A)({url:"/api/sys/role/edit",method:"post",data:e})}function u(e){return(0,r.A)({url:"/api/sys/role/menu/edit",method:"post",data:e})}function d(e){return(0,r.A)({url:"/api/sys/role/del",method:"delete",params:e})}function i(e){return(0,r.A)({url:"/api/sys/role/menu/list",method:"get",params:e})}},6559:function(e,l,o){o.r(l),o.d(l,{default:function(){return p}});var r=o(4220),a=o(6732),t=o(9798),u=o(655),d=o(7939),i=o(7251),n={__name:"editRole",props:{dialogVisible:{type:Boolean,require:!0,default:!1},roleObj:Object},emits:["update:dialogVisible","get-list"],setup(e,{emit:l}){const o=e,n=l,s=(0,r.EW)({get:()=>o.dialogVisible,set:e=>n("update:dialogVisible",e)}),m=(0,a.KR)(!1),p=(0,a.Kh)({title:"Nuevo",roleForm:{id:null,roleName:"",roleCode:"",description:""},rules:{roleName:[{required:!0,message:"El nombre del rol no puede estar vacío",trigger:"blur"}],roleCode:[{required:!0,message:"El código de rol no puede estar vacío",trigger:"blur"}]}}),c=(0,a.KR)(),b=()=>{(0,i.E)(c.value),p.title="Nuevo",m.value=!1,o.roleObj.id&&(p.title="Editar",p.roleForm=o.roleObj)},f=()=>{c.value.validate(e=>{e&&(m.value=!0,(0,u.D3)(p.roleForm).then(e=>{e.success?((0,d.j3)(e.data),s.value=!1,n("get-list")):(0,d.aJ)(e.msg),m.value=!1}))})};return(e,l)=>{const o=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),d=(0,r.g2)("el-form"),n=(0,r.g2)("el-button"),g=(0,r.g2)("el-dialog");return(0,r.uX)(),(0,r.Wv)(g,{title:p.title,modelValue:s.value,"onUpdate:modelValue":l[5]||(l[5]=e=>s.value=e),draggable:"","close-on-click-modal":!1,onOpened:b},{footer:(0,r.k6)(()=>[(0,r.Lk)("span",null,[(0,r.bF)(n,{onClick:l[4]||(l[4]=e=>(0,a.R1)(i.E)(c.value))},{default:(0,r.k6)(()=>[...l[6]||(l[6]=[(0,r.eW)("reiniciar",-1)])]),_:1}),(0,r.bF)(n,{type:"primary",loading:m.value,onClick:f},{default:(0,r.k6)(()=>[...l[7]||(l[7]=[(0,r.eW)("seguro",-1)])]),_:1},8,["loading"])])]),default:(0,r.k6)(()=>[(0,r.bF)(d,{model:p.roleForm,rules:e.rules,ref_key:"roleRef",ref:c,"label-width":"120px"},{default:(0,r.k6)(()=>[(0,r.bo)((0,r.bF)(u,{prop:"id"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.roleForm.id,"onUpdate:modelValue":l[0]||(l[0]=e=>p.roleForm.id=e)},null,8,["modelValue"])]),_:1},512),[[t.aG,!1]]),(0,r.bF)(u,{label:"Nombre del personaje",prop:"roleName"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.roleForm.roleName,"onUpdate:modelValue":l[1]||(l[1]=e=>p.roleForm.roleName=e),placeholder:"Por favor ingrese un nombre de rol"},null,8,["modelValue"])]),_:1}),(0,r.bF)(u,{label:"Codigo de Rol",prop:"roleCode"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{modelValue:p.roleForm.roleCode,"onUpdate:modelValue":l[2]||(l[2]=e=>p.roleForm.roleCode=e),placeholder:"Por favor ingrese el código de rol"},null,8,["modelValue"])]),_:1}),(0,r.bF)(u,{label:"Descripción del rol",prop:"roleIds"},{default:(0,r.k6)(()=>[(0,r.bF)(o,{type:"textarea",modelValue:p.roleForm.description,"onUpdate:modelValue":l[3]||(l[3]=e=>p.roleForm.description=e),"aria-placeholder":"Por favor ingrese una descripción del rol"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}},s=o(1317);const m=(0,s.A)(n,[["__scopeId","data-v-32befa84"]]);var p=m}}]);
//# sourceMappingURL=559.f76833fe.js.map