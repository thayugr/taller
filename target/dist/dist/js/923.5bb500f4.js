"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[923],{3483:function(e,o,t){t(4645),t(4564),t(324),t(5765);var l=t(4220),n=t(6732),a=t(9140),i=t(5055),r=t(5139),u=t(1952),d=t(3430),s=t(3246);o.A=(0,a.a0)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:t}){const a=(0,l.nI)(),c=(0,n.KR)(null);let m=0;const f=[];function p(o){const l="boolean"===typeof o?o:!0!==e.noErrorFocus,n=++m,a=(e,o)=>{t("validation"+(!0===e?"Success":"Error"),o)},i=e=>{const o=e.validate();return"function"===typeof o.then?o.then(o=>({valid:o,comp:e}),o=>({valid:!1,comp:e,err:o})):Promise.resolve({valid:o,comp:e})},r=!0===e.greedy?Promise.all(f.map(i)).then(e=>e.filter(e=>!0!==e.valid)):f.reduce((e,o)=>e.then(()=>i(o).then(e=>{if(!1===e.valid)return Promise.reject(e)})),Promise.resolve()).catch(e=>[e]);return r.then(e=>{if(void 0===e||0===e.length)return n===m&&a(!0),!0;if(n===m){const{comp:o,err:t}=e[0];if(void 0!==t&&console.error(t),a(!1,o),!0===l){const o=e.find(({comp:e})=>"function"===typeof e.focus&&!1===(0,s.rU)(e.$));void 0!==o&&o.comp.focus()}}return!1})}function b(){m++,f.forEach(e=>{"function"===typeof e.resetValidation&&e.resetValidation()})}function g(o){void 0!==o&&(0,i.Gu)(o);const l=m+1;p().then(n=>{l===m&&!0===n&&(void 0!==e.onSubmit?t("submit",o):void 0!==o?.target&&"function"===typeof o.target.submit&&o.target.submit())})}function v(o){void 0!==o&&(0,i.Gu)(o),t("reset"),(0,l.dY)(()=>{b(),!0===e.autofocus&&!0!==e.noResetFocus&&V()})}function V(){(0,r.Gy)(()=>{if(null===c.value)return;const e=c.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(c.value.querySelectorAll("[tabindex]"),e=>-1!==e.tabIndex);e?.focus({preventScroll:!0})})}(0,l.Gt)(d.q3,{bindComponent(e){f.push(e)},unbindComponent(e){const o=f.indexOf(e);-1!==o&&f.splice(o,1)}});let h=!1;return(0,l.Y4)(()=>{h=!0}),(0,l.n)(()=>{!0===h&&!0===e.autofocus&&V()}),(0,l.sV)(()=>{!0===e.autofocus&&V()}),Object.assign(a.proxy,{validate:p,resetValidation:b,submit:g,reset:v,focus:V,getValidationComponents:()=>f}),()=>(0,l.h)("form",{class:"q-form",ref:c,onSubmit:g,onReset:v},(0,u.zm)(o.default))}})},3942:function(e,o,t){t.d(o,{dM:function(){return i},dU:function(){return a},k7:function(){return n},nn:function(){return r}});var l=t(6381);function n(e){return(0,l.A)({url:"/api/sys/modulo1/table",method:"get",params:e})}function a(e){return(0,l.A)({url:"/api/sys/modulo1/tabledclientes",method:"get",params:e})}function i(e){return(0,l.A)({url:"/api/sys/modulo1/edit",method:"post",data:e})}function r(e){return(0,l.A)({url:"/api/sys/modulo1/tabledclientespedido",method:"get",params:e})}},8923:function(e,o,t){t.r(o),t.d(o,{default:function(){return h}});var l=t(4220),n=t(7700),a=t(6732),i=t(3942);const r={class:"text-h6"};var u={__name:"editDClientes",props:{modelValue:{type:Boolean,required:!0},clienteObj:{type:Object,required:!0}},emits:["update:dialogVisible","get-list"],setup(e,{emit:o}){const t=e,u=o,d=(0,l.EW)({get:()=>t.dialogVisible,set:e=>u("update:dialogVisible",e)}),s=(0,a.Kh)({title:"Editar Cliente",form:{idcliente:null,compania:"",apellidos:"",nombre:"",email:"",cargo:"",telefonoTrabajo:"",telefonoParticular:"",telefonoMovil:"",numeroFax:"",direccion:"",ciudad:"",estadoProvincia:"",codigoPostal:"",paisRegion:"",paginaWeb:"",notas:"",datosAdjuntos:""}});(0,l.wB)(()=>t.clienteObj,e=>{e&&e.idcliente&&c()});const c=()=>{t.clienteObj.idcliente&&(s.title="Editar Cliente",s.form={...t.clienteObj});(0,a.KR)(t.modelValue)},m=()=>{u("get-list",s.form),d.value=!1,console.log("se presiono aceptar"),(0,i.dM)(s.form).then(e=>{e.success?console.log("los datos se guardaron correctamente"):errorMsg(e.msg)}).catch(()=>{loading.value=!1})};return(e,o)=>{const t=(0,l.g2)("q-card-section"),a=(0,l.g2)("q-input"),i=(0,l.g2)("q-form"),u=(0,l.g2)("q-btn"),c=(0,l.g2)("q-card-actions"),f=(0,l.g2)("q-card"),p=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.Wv)(p,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[6]||(o[6]=o=>e.dialogVisible=o)},{default:(0,l.k6)(()=>[(0,l.bF)(f,{class:"myClass"},{default:(0,l.k6)(()=>[(0,l.bF)(t,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",r,(0,n.v_)(s.title),1)]),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)(()=>[(0,l.bF)(i,{onSubmit:m},{default:(0,l.k6)(()=>[(0,l.bF)(a,{modelValue:s.form.idcliente,"onUpdate:modelValue":o[0]||(o[0]=e=>s.form.idcliente=e),label:"Id",disable:!0},null,8,["modelValue"]),(0,l.bF)(a,{modelValue:s.form.compania,"onUpdate:modelValue":o[1]||(o[1]=e=>s.form.compania=e),label:"Compañía"},null,8,["modelValue"]),(0,l.bF)(a,{modelValue:s.form.apellidos,"onUpdate:modelValue":o[2]||(o[2]=e=>s.form.apellidos=e),label:"Apellidos"},null,8,["modelValue"]),(0,l.bF)(a,{modelValue:s.form.nombre,"onUpdate:modelValue":o[3]||(o[3]=e=>s.form.nombre=e),label:"Nombre"},null,8,["modelValue"]),(0,l.bF)(a,{modelValue:s.form.numerofax,"onUpdate:modelValue":o[4]||(o[4]=e=>s.form.numerofax=e),label:"Numero fax"},null,8,["modelValue"])]),_:1})]),_:1}),(0,l.bF)(c,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{flat:"",label:"Cancelar",color:"negative",onClick:o[5]||(o[5]=e=>d.value=!1)}),(0,l.bF)(u,{flat:"",label:"Guardar",color:"primary",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},d=t(7438),s=t(3663),c=t(7180),m=t(3483),f=t(4985),p=t(1248),b=t(407),g=t(2110),v=t.n(g);const V=u;var h=V;v()(u,"components",{QDialog:d.A,QCard:s.A,QCardSection:c.A,QForm:m.A,QInput:f.A,QCardActions:p.A,QBtn:b.A})}}]);
//# sourceMappingURL=923.5bb500f4.js.map